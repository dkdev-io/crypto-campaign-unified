<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Campaign Crypto Contributions</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container-fluid">
        <!-- Header -->
        <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="#">
                    <i class="fas fa-vote-yea me-2"></i>
                    Campaign Contributions
                </a>
                <div class="navbar-nav ms-auto">
                    <button class="btn btn-outline-light" id="connectWallet">
                        <i class="fas fa-wallet me-2"></i>
                        Connect Wallet
                    </button>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <div class="container mt-4">
            <div class="row">
                <!-- Contribution Form -->
                <div class="col-lg-8">
                    <div class="card shadow">
                        <div class="card-header bg-primary text-white">
                            <h4 class="mb-0">
                                <i class="fas fa-hand-holding-usd me-2"></i>
                                Make a Contribution
                            </h4>
                        </div>
                        <div class="card-body">
                            <!-- Wallet Connection Status -->
                            <div id="walletStatus" class="alert alert-warning" style="display: none;">
                                <i class="fas fa-exclamation-triangle me-2"></i>
                                Please connect your wallet to continue.
                            </div>

                            <!-- Contribution Form -->
                            <form id="contributionForm" style="display: none;">
                                <!-- Personal Information -->
                                <div class="row mb-4">
                                    <div class="col-12">
                                        <h5 class="text-primary border-bottom pb-2">
                                            <i class="fas fa-user me-2"></i>
                                            Personal Information
                                        </h5>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="firstName" class="form-label">First Name *</label>
                                        <input type="text" class="form-control" id="firstName" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="lastName" class="form-label">Last Name *</label>
                                        <input type="text" class="form-control" id="lastName" required>
                                    </div>
                                    <div class="col-md-8 mb-3">
                                        <label for="address" class="form-label">Address *</label>
                                        <input type="text" class="form-control" id="address" required>
                                    </div>
                                    <div class="col-md-4 mb-3">
                                        <label for="zipCode" class="form-label">ZIP Code *</label>
                                        <input type="text" class="form-control" id="zipCode" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="city" class="form-label">City *</label>
                                        <input type="text" class="form-control" id="city" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="state" class="form-label">State *</label>
                                        <select class="form-select" id="state" required>
                                            <option value="">Select State</option>
                                            <option value="AL">Alabama</option>
                                            <option value="AK">Alaska</option>
                                            <option value="AZ">Arizona</option>
                                            <option value="AR">Arkansas</option>
                                            <option value="CA">California</option>
                                            <option value="CO">Colorado</option>
                                            <option value="CT">Connecticut</option>
                                            <option value="DE">Delaware</option>
                                            <option value="FL">Florida</option>
                                            <option value="GA">Georgia</option>
                                            <!-- Add more states as needed -->
                                        </select>
                                    </div>
                                </div>

                                <!-- Employment Information -->
                                <div class="row mb-4">
                                    <div class="col-12">
                                        <h5 class="text-primary border-bottom pb-2">
                                            <i class="fas fa-briefcase me-2"></i>
                                            Employment Information
                                        </h5>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="employer" class="form-label">Employer *</label>
                                        <input type="text" class="form-control" id="employer" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="occupation" class="form-label">Occupation *</label>
                                        <input type="text" class="form-control" id="occupation" required>
                                    </div>
                                </div>

                                <!-- Contribution Amount -->
                                <div class="row mb-4">
                                    <div class="col-12">
                                        <h5 class="text-primary border-bottom pb-2">
                                            <i class="fas fa-dollar-sign me-2"></i>
                                            Contribution Details
                                        </h5>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="contributionAmount" class="form-label">Contribution Amount (ETH) *</label>
                                        <div class="input-group">
                                            <span class="input-group-text">
                                                <i class="fab fa-ethereum"></i>
                                            </span>
                                            <input type="number" class="form-control" id="contributionAmount" 
                                                   step="0.001" min="0.001" max="1.1" required>
                                        </div>
                                        <div class="form-text">
                                            Maximum: <span id="maxAmount">1.1 ETH</span> | 
                                            USD Equivalent: $<span id="usdAmount">0</span>
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">Your Contribution Capacity</label>
                                        <div class="progress mb-2">
                                            <div class="progress-bar" role="progressbar" style="width: 0%" id="capacityProgress">
                                                0%
                                            </div>
                                        </div>
                                        <small class="text-muted">
                                            Remaining: <span id="remainingCapacity">$3,300</span>
                                        </small>
                                    </div>
                                </div>

                                <!-- Legal Affirmations -->
                                <div class="row mb-4">
                                    <div class="col-12">
                                        <h5 class="text-primary border-bottom pb-2">
                                            <i class="fas fa-check-circle me-2"></i>
                                            Legal Affirmations
                                        </h5>
                                        <div class="form-check mb-3">
                                            <input class="form-check-input" type="checkbox" id="affirmation1" required>
                                            <label class="form-check-label" for="affirmation1">
                                                I affirm that this contribution is made from my own funds and not from the funds of another person or entity for the purpose of disguising the actual source of the contribution.
                                            </label>
                                        </div>
                                        <div class="form-check mb-3">
                                            <input class="form-check-input" type="checkbox" id="affirmation2" required>
                                            <label class="form-check-label" for="affirmation2">
                                                I affirm that I am a U.S. citizen or lawfully admitted permanent resident and this contribution is not being made by a foreign national.
                                            </label>
                                        </div>
                                        <div class="form-check mb-3">
                                            <input class="form-check-input" type="checkbox" id="affirmation3" required>
                                            <label class="form-check-label" for="affirmation3">
                                                I affirm that this contribution is not being made from the treasury of a corporation, labor organization, or national bank.
                                            </label>
                                        </div>
                                        <div class="form-check mb-3">
                                            <input class="form-check-input" type="checkbox" id="coinbaseAffirmation" required>
                                            <label class="form-check-label" for="coinbaseAffirmation">
                                                I affirm that these funds are being sent from a verified Coinbase exchange account in my name.
                                            </label>
                                        </div>
                                    </div>
                                </div>

                                <!-- KYC Status -->
                                <div class="row mb-4">
                                    <div class="col-12">
                                        <div class="alert alert-info" id="kycStatus">
                                            <i class="fas fa-id-card me-2"></i>
                                            <strong>KYC Verification Required:</strong> 
                                            <span id="kycMessage">Checking verification status...</span>
                                            <button type="button" class="btn btn-sm btn-outline-primary ms-2" id="kycVerifyBtn">
                                                Verify Identity
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <!-- Submit Button -->
                                <div class="row">
                                    <div class="col-12">
                                        <button type="submit" class="btn btn-primary btn-lg w-100" id="submitBtn" disabled>
                                            <i class="fas fa-paper-plane me-2"></i>
                                            Submit Contribution
                                        </button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- Sidebar -->
                <div class="col-lg-4">
                    <!-- Campaign Info -->
                    <div class="card shadow mb-4">
                        <div class="card-header bg-success text-white">
                            <h5 class="mb-0">
                                <i class="fas fa-chart-line me-2"></i>
                                Campaign Progress
                            </h5>
                        </div>
                        <div class="card-body">
                            <div class="text-center mb-3">
                                <h3 class="text-success" id="totalRaised">$0</h3>
                                <p class="text-muted">Total Raised</p>
                            </div>
                            <div class="row text-center">
                                <div class="col-6">
                                    <h4 class="text-primary" id="contributorCount">0</h4>
                                    <small class="text-muted">Contributors</small>
                                </div>
                                <div class="col-6">
                                    <h4 class="text-info" id="avgContribution">$0</h4>
                                    <small class="text-muted">Avg. Contribution</small>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Wallet Info -->
                    <div class="card shadow" id="walletInfo" style="display: none;">
                        <div class="card-header bg-info text-white">
                            <h5 class="mb-0">
                                <i class="fas fa-wallet me-2"></i>
                                Wallet Information
                            </h5>
                        </div>
                        <div class="card-body">
                            <p><strong>Address:</strong></p>
                            <p class="font-monospace small" id="walletAddress">Not connected</p>
                            <p><strong>Balance:</strong> <span id="walletBalance">0 ETH</span></p>
                            <p><strong>Remaining Capacity:</strong> <span id="walletCapacity">$3,300</span></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container position-fixed bottom-0 end-0 p-3">
        <div id="successToast" class="toast" role="alert">
            <div class="toast-header bg-success text-white">
                <i class="fas fa-check-circle me-2"></i>
                <strong class="me-auto">Success</strong>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="toast"></button>
            </div>
            <div class="toast-body" id="successMessage"></div>
        </div>
        
        <div id="errorToast" class="toast" role="alert">
            <div class="toast-header bg-danger text-white">
                <i class="fas fa-exclamation-circle me-2"></i>
                <strong class="me-auto">Error</strong>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="toast"></button>
            </div>
            <div class="toast-body" id="errorMessage"></div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/web3@1.8.0/dist/web3.min.js"></script>
    <script src="app.js"></script>
</body>
</html>
